<head> 
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../css/main.css" /> 
           <script src="../../js/jquery.js"></script> 
           <script src="../../js/main.js"></script> 
           </head> 
           <head> 
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../../css/main.css" /> 
           <script src="../../../js/jquery.js"></script> 
           <script src="../../../js/main.js"></script> 
           </head>  
           <head>  
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../../../css/main.css" /> 
           <script src="../../../../js/jquery.js"></script> 
           <script src="../../../../js/main.js"></script> 
           </head>
<h1>轮廓预处理工具</h1>

<h2>1. 功能</h2>

<p>轮廓预处理工具的功能是：输入的原始轮廓（有噪点干扰），通过此工具的一系列预处理后，输出所需要的的轮廓（去除噪点等干扰）来进行后续的测量或检测。  工具包含两种子项：轮廓滤波、轮廓线内点分割。</p>

<h3>1.1  轮廓滤波</h3>

<p>​        轮廓滤波工具的主要功能是滤除轮廓中的陡峭点（ 轮廓在上升沿或下降沿出的干扰点）  。</p>

<p><img src="media/1.png" alt="1" /></p>

<h3>1.2 轮廓线内点分割</h3>

<p>轮廓滤波工具的主要功能是去除到基准线的距离大于距离阈值的轮廓点，保留在距离阈值范围之内的点。如下图，基准线为X轴，距离阈值0.05，结果如下图所示。</p>

<p><img src="media/2.png" alt="2" /></p>

<h2>2. 使用向导</h2>

<h3>2.1 添加预处理子项</h3>

<p><img src="media/3.png" alt="3" /></p>

<p>目前支持两种预处理项：轮廓滤波、轮廓线内点分割。</p>

<p>列表中子项遵循以下规则：</p>

<ul>
<li><p>前一项的输出轮廓是后一项的输入轮廓。</p></li>
<li><p>若前一个工具若执行失败，则后面所有的预处理子项跳过执行，最终工具输出执行失败结果。</p></li>
<li><p>选中列表子项后，图像窗口显示该子项的输入、输出轮廓图像，方便用户一边观察结果一边调参。若要看工具最终执行结果，直接点击执行即可查看工具最后输出的轮廓图像。</p></li>
</ul>


<h3>2.2 参数链配置</h3>

<table>
<thead>
<tr>
<th> 参数名称     </th>
<th> 参数描述                                                     </th>
</tr>
</thead>
<tbody>
<tr>
<td> 输入轮廓数据 </td>
<td> 输入待处理的轮廓数据，该参数可来源于截面生成工具。           </td>
</tr>
<tr>
<td> 二维线性变换 </td>
<td> 目标相对于模板的平移、旋转、变换，该参数可来源于轮廓定位工具。 </td>
</tr>
<tr>
<td> 基准线1/2/3  </td>
<td> 轮廓线内点分割子项所需要的基准线候选项，轮廓线内点分割子项参数设置时可引用这三条候选的基准线。 </td>
</tr>
</tbody>
</table>


<h3>2.3 轮廓滤波参数设置</h3>

<p>轮廓滤波参数：</p>

<p><img src="media/4.png" alt="4" /></p>

<table>
<thead>
<tr>
<th> 参数名称 </th>
<th> 参数描述                                                     </th>
</tr>
</thead>
<tbody>
<tr>
<td> ROI类型  </td>
<td> 支持4种ROI：整幅图像、矩形ROI、仿射矩形ROI和圆形             </td>
</tr>
<tr>
<td> 高度阈值 </td>
<td> 相邻两点Z方向差值绝对值 >（高度阈值*两点中间间隔的点数+1）的点将会被滤除。 </td>
</tr>
</tbody>
</table>


<h3>2.4 轮廓线内点分割参数设置</h3>

<p>轮廓线内点分割参数：</p>

<p><img src="media/5.png" alt="5" /></p>

<table>
<thead>
<tr>
<th> 参数名称            </th>
<th> 参数描述                                                     </th>
</tr>
</thead>
<tbody>
<tr>
<td> 基准线              </td>
<td> 此处基准线引用轮廓预处理工具的数据链中的”基准线1/2/3“        </td>
</tr>
<tr>
<td> ROI类型             </td>
<td> 支持4种ROI：整幅图像、矩形ROI、仿射矩形ROI和多仿射矩形ROI    </td>
</tr>
<tr>
<td> 距离阈值            </td>
<td> 轮廓点到基准线的最大距离，大于距离阈值的点将会被去除         </td>
</tr>
<tr>
<td> 输出范围内/外轮廓点 </td>
<td> 选择“范围内”，则去除到基准线的距离大于距离阈值的轮廓点，保留在距离阈值范围之内的点；选择“范围外”，则相反，保留到基准线的距离大于距离阈值的轮廓点，去除在距离阈值范围之内的点。 </td>
</tr>
</tbody>
</table>


<h3>2.5 查看结果</h3>

<h4>2.5.1 查看子项输入/输出轮廓</h4>

<p>选中列表子项后，图像窗口显示该子项的输入、输出轮廓图像，方便用户一边观察结果一边调参:</p>

<p><img src="media/6.png" alt="6" /></p>

<ol>
<li>列表选中子项</li>
<li>选择切换输入/输出图像</li>
<li>图像窗口查看当前选中子项的输入/输出轮廓</li>
</ol>


<h4>2.5.2 查看工具最终结果</h4>

<p>若要看工具最终执行结果，直接点击执行即可查看工具最后输出的轮廓图像。</p>

<p><img src="media/7.png" alt="7" /></p>

<ol>
<li>直接点击执行</li>
<li>图像窗口查看工具最后的输出轮廓图像</li>
</ol>


<h4>2.5.3 查看输出栏</h4>

<table>
<thead>
<tr>
<th> 参数名称     </th>
<th> 参数描述                                 </th>
</tr>
</thead>
<tbody>
<tr>
<td> 输出轮廓数据 </td>
<td> 输出的轮廓数据，包括轮廓点数，有效点数。 </td>
</tr>
<tr>
<td> 执行结果     </td>
<td> 工具执行结果。                           </td>
</tr>
<tr>
<td> 执行时间     </td>
<td> 工具执行时间。                           </td>
</tr>
</tbody>
</table>


<h2>3. 常见问题</h2>

<p>无</p>

<h2>4. 示例工程</h2>

<p>​        参见“\Samples\3D\深度图\轮廓预处理工具.gvp”</p>
