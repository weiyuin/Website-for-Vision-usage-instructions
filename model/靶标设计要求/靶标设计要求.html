<head> 
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../css/main.css" /> 
           <script src="../../js/jquery.js"></script> 
           <script src="../../js/main.js"></script> 
           </head> 
           <head> 
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../../css/main.css" /> 
           <script src="../../../js/jquery.js"></script> 
           <script src="../../../js/main.js"></script> 
           </head>  
           <head>  
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../../../css/main.css" /> 
           <script src="../../../../js/jquery.js"></script> 
           <script src="../../../../js/main.js"></script> 
           </head>
<h1>视觉靶标设计要求</h1>

<h2>1 标准靶标设计</h2>

<h3>1.1 靶标棋盘格要求</h3>

<p>标准靶标设计时，棋盘格需满足以下条件：</p>

<ul>
<li>所有棋盘格宽高一致，每行等距间隔排列；</li>
<li>行与行之间紧凑相连，不相互重叠；</li>
<li>行与行之间的棋盘格完全错位排列，相互之间只存在角点相连；</li>
</ul>


<h3>1.2 靶标DM码要求</h3>

<p>棋盘格靶标设计时，二维码需满足以下条件：</p>

<ul>
<li>二维码格式为标准的DM码，即棋盘格中的二维码使用我们VisionAssembly中的DM码读码工具能够解析出来；</li>
<li>DM码的大小为2 * 2个棋盘格，即其长宽相等，均占用2个棋盘格大小；</li>
<li>DM码的内容格式为“X,Y,L,S”，其中X,Y为二维码的全局靶标坐标值，单位为格子，即此二维码距离靶标原点的格子数量；L表示每个格子的尺寸，单位为mm/格子；S为额外信息，可根据不同的项目需求做定制；</li>
<li>字符串内部的分隔符为英文下的逗号",&ldquo;；</li>
<li>每个DM码原点之间的间隔为10个棋盘格。如前面描述，DM码占用2 * 2个棋盘格，所以每两个DM码之间均存在8个棋盘格的间隔。</li>
</ul>


<h3>1.3 靶标圆形Mark要求</h3>

<p>棋盘格靶标设计时，圆形Mark需满足以下条件：</p>

<ul>
<li>每四个DM码之间包含一组圆形Mark，其数量为3个，即在DM码中间区域的白色棋盘格中有一个黑色圆形Mark，而在其相邻的两个黑色棋盘格中各有1个白色圆形Mark；</li>
<li>圆形Mark位于棋盘格中心，其直径尺寸为棋盘格的一半；</li>
</ul>


<h3>1.4 标准靶标坐标系说明</h3>

<p>标准的DM码是存在方向的，其方向是通过DM码的L边方向来确定的，而且L边的极性确定了DM码的极性。我们知道DM码是由其区域内若干个白色的小方格和若干个黑色的小方格组成的，而且这些小方格遍布了其区域内的所有位置，当我们观察DM码的区域时可以发现，总是会有两个相邻的边缘完全是由白色或黑色的线条组成的，这样两个线条就表示了DM码的L边。如下图所示，左侧DM的L边为黑色的，表明此DM码极性为黑色，其方向为向右向上；右侧DM码的L边为白色的，表明此DM码极性为白色，其方向同样为向右向上。</p>

<p>而在进行我们靶标设计的时候，要求其DM码L边方向为向右向上，且全局靶标坐标系的方向和DM码的方向一致，即全局靶标坐标系的原点在整个靶标的左下点。</p>

<p><img src="media/ChessBoard04.png" alt="" /></p>

<h3>1.5标准靶标示意图</h3>

<p>按照上面章节说明的标准规格，设计好的标准靶标如下图所示。</p>

<p><img src="media/ChessBoard01.png" alt="" /></p>

<h2>2 靶标规格验证</h2>

<h3>2.1 DM码内容验证</h3>

<p>用户需要验证所使用的靶标是否满足要求时，可以采集一幅图像，使用VA中的“DM码读码工具”进行读码，以保证项目中使用的靶标满足要求。</p>

<p><img src="media/ChessBoard02.png" alt="" /></p>

<h3>2.2 验证全局靶标坐标系的方向</h3>

<p>可取一张靶标图像，利用DM码读码工具读取不同位置处的两个二维码，查看二维码内的坐标值，并观察其坐标增长趋势是否和DM码的L边方向一致。如下图所示，DM码的L边为向右向上，而此图中靠右上的二维码坐标值比左下二维码的坐标值更大，说明此靶标的全局靶标坐标系方向和二维码L边方向一致，则其符合标准标靶的坐标系标准。</p>

<p><img src="media/ChessBoard03.png" alt="" /></p>
