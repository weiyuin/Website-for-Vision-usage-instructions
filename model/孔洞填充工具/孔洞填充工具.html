<head> 
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../css/main.css" /> 
           <script src="../../js/jquery.js"></script> 
           <script src="../../js/main.js"></script> 
           </head> 
           <head> 
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../../css/main.css" /> 
           <script src="../../../js/jquery.js"></script> 
           <script src="../../../js/main.js"></script> 
           </head>  
           <head>  
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../../../css/main.css" /> 
           <script src="../../../../js/jquery.js"></script> 
           <script src="../../../../js/main.js"></script> 
           </head>
<h1>Công cụ điền lỗ</h1>

<h2>Chức năng</h2>

<p>Điền lỗ là một trong những phương pháp xử lý ảnh trước, nhiệm vụ chính là điền các vùng lỗ trong ảnh do vấn đề chiếu sáng hoặc nhiễu gây ra, tạo ra ảnh đã được loại bỏ ảnh hưởng của chiếu sáng hoặc nhiễu sau khi điền lỗ. Tùy theo quan hệ giữa vùng lỗ cần điền và các điểm ảnh biên giới của nó, điền lỗ được chia thành điền lỗ màu tối và điền lỗ màu sáng.</p>

<p><img src="media/wps3.jpg" alt="img" /></p>

<p><imgnote>Hình 1 Điền lỗ màu tối</imgnote></p>

<p><img src="media/wps4.jpg" alt="img" /></p>

<p><imgnote>Hình 2 Điền lỗ màu sáng</imgnote></p>

<h2>Tham số</h2>

<table>
<thead>
<tr>
<th>Phân loại</th>
<th>Tên tham số</th>
<th>Mô tả tham số</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cửa sổ thuộc tính</td>
<td>ROI điền lỗ</td>
<td>Toàn ảnh hay hình chữ nhật, toàn ảnh nghĩa là điền lỗ trên toàn bộ ảnh, hình chữ nhật nghĩa là chỉ điền lỗ trong khung hình chữ nhật.<img src="media/wps6.jpg" alt="img" /></td>
</tr>
<tr>
<td></td>
<td>ROI hình chữ nhật</td>
<td>Khi điền lỗ chọn hình chữ nhật thì cần thiết lập ROI hình chữ nhật, bao gồm X, Y, W và H.</td>
</tr>
<tr>
<td></td>
<td>Loại điền lỗ</td>
<td>Điền lỗ màu tối và điền lỗ màu sáng.<img src="media/wps7.jpg" alt="img" /></td>
</tr>
<tr>
<td>Cửa sổ ảnh</td>
<td>Ảnh đầu vào</td>
<td>Ảnh cần thực hiện điền lỗ.</td>
</tr>
<tr>
<td></td>
<td>GUI hình chữ nhật</td>
<td>Dùng để thiết lập vùng hình chữ nhật khi ROI điền lỗ là hình chữ nhật.</td>
</tr>
<tr>
<td>Dữ liệu chuỗi</td>
<td>Ảnh đầu vào</td>
<td>Ảnh cần thực hiện điền lỗ.</td>
</tr>
<tr>
<td>Giao diện nâng cao</td>
<td>Không có</td>
<td>Không có</td>
</tr>
</tbody>
</table>


<h2>Đầu ra</h2>

<table>
<thead>
<tr>
<th>Phân loại</th>
<th>Tên tham số</th>
<th>Mô tả tham số</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cửa sổ giám sát</td>
<td>Ảnh đầu ra</td>
<td>Ảnh kết quả sau khi điền lỗ.</td>
</tr>
<tr>
<td></td>
<td>Kết quả thực thi</td>
<td>Kết quả thực thi công cụ.</td>
</tr>
<tr>
<td></td>
<td>Thời gian thực thi</td>
<td>Thời gian thực thi công cụ.</td>
</tr>
<tr>
<td>Cửa sổ ảnh</td>
<td>Ảnh đầu ra</td>
<td>Ảnh kết quả sau khi điền lỗ.</td>
</tr>
<tr>
<td></td>
<td>Kết quả thực thi</td>
<td>Hiển thị kết quả thực thi công cụ, nếu thành công hiển thị “OK”, thất bại hiển thị “NG”, giống tham số kết quả thực thi ở cửa sổ giám sát.</td>
</tr>
<tr>
<td>Dữ liệu chuỗi</td>
<td>Ảnh đầu ra</td>
<td>Ảnh kết quả sau khi điền lỗ.</td>
</tr>
</tbody>
</table>

<h2>Giải thích chi tiết</h2>

<h3>Điền lỗ màu tối</h3>

<p>Chuyển các điểm ảnh tối bị bao quanh bởi điểm ảnh sáng thành điểm ảnh sáng, trong ảnh đầu ra sẽ điền các lỗ màu tối.</p>

<h3>Điền lỗ màu sáng</h3>

<p>Chuyển các điểm ảnh sáng bị bao quanh bởi điểm ảnh tối thành điểm ảnh tối, trong ảnh đầu ra sẽ điền các lỗ màu sáng.</p>

<h3>Nguyên lý cơ bản</h3>

<p>Nguyên lý công cụ điền lỗ màu tối và màu sáng dựa trên sự tái cấu trúc hình thái học xám của phép giãn nở (dilation) và ăn mòn (erosion). Điền lỗ màu sáng và điền lỗ màu tối có nguyên lý tương tự nhau, ở đây lấy ví dụ công cụ điền lỗ màu tối để giải thích nguyên lý cơ bản.</p>

<p><img src="media/wps10.jpg" alt="img" /></p>

<p><imgnote>Hình 3: Sơ đồ nguyên lý điền lỗ màu tối trên ảnh xám 1 chiều</imgnote></p>

<p>Hình 3 là sơ đồ nguyên lý điền lỗ màu tối trên ảnh xám 1 chiều. Lấy ảnh đầu vào đảo bit (phủ định) làm ảnh mẫu. Biên ảnh đánh dấu có cùng biên với ảnh mẫu, phần còn lại bằng 0. Dùng ảnh đánh dấu này để thực hiện phép giãn nở đo địa lý trên ảnh mẫu nhiều lần cho đến trạng thái ổn định. Kết quả trạng thái ổn định sau khi phủ định là kết quả điền lỗ màu tối trên ảnh gốc, tương ứng với các bước (a) đến (h) trong hình 3.</p>

<p><img src="media/wps11.jpg" alt="img" /></p>

<p><imgnote>Hình 4: Sơ đồ nguyên lý điền lỗ màu tối trên ảnh xám 2 chiều</imgnote></p>

<p>Hình 4 là sơ đồ minh họa điền lỗ màu tối trên ảnh xám 2 chiều. Dựa vào quá trình trong hình 3, thuật toán 1 chiều dễ dàng mở rộng sang ảnh xám 2 chiều. Trong hình 4, chỉ minh họa một lần lặp biên giới cùng vài vị trí cụ thể, bạn có thể tham khảo nguyên lý trên ảnh xám 1 chiều để hiểu chi tiết.</p>

<h2>Lưu ý</h2>

<p>Không có.</p>

<h2>Dự án mẫu</h2>

<p>Tham khảo “\Samples\孔洞填充工具.gvp”.</p>
