<head> 
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../css/main.css" /> 
           <script src="../../js/jquery.js"></script> 
           <script src="../../js/main.js"></script> 
           </head> 
           <head> 
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../../css/main.css" /> 
           <script src="../../../js/jquery.js"></script> 
           <script src="../../../js/main.js"></script> 
           </head>  
           <head>  
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../../../css/main.css" /> 
           <script src="../../../../js/jquery.js"></script> 
           <script src="../../../../js/main.js"></script> 
           </head>
<h1>同心圆检测工具</h1>

<h2>1. 功能概述</h2>

<p>​     同心圆检测工具用来进行同心圆的检测，其应用效果如图1所示。</p>

<p><img src="media/GvConcentricInspectAdvancedTool_1_1.png" alt="img" />  <img src="media/GvConcentricInspectAdvancedTool_1_2.png" alt="img" /></p>

<p><imgnote>(a) 工具摆放示意图</imgnote> <imgnote>(b) 找同心圆结果</imgnote></p>

<p><imgnote>图1 同心圆检测工具应用示意图</imgnote></p>

<h2>2. 应用场景</h2>

<p>​              同心圆检测工具主要用来检测圆环工具的同心度参量是否满足规格要求。</p>

<h2>3. 原理说明</h2>

<p>​     使用找圆工具获取图像中的圆形，计算每个圆与基准圆的同心度。同心度越低，表示两圆的圆心距离越近，同心性越好。当两圆完全重合时，同心度为零。</p>

<h2>4. 使用向导</h2>

<ul>
<li><h4>添加工具，载入图像</h4></li>
</ul>


<p><img src="media/GvConcentricInspectAdvancedTool_4_1.png" alt="" /></p>

<ul>
<li><h4>高级界面</h4></li>
</ul>


<p>打开高级界面，选择图像中的圆用于计算同心度。</p>

<p><img src="media/GvConcentricInspectAdvancedTool_4_5.png" alt="" /></p>

<ul>
<li><h4>定属性、参数等</h4></li>
</ul>


<p><img src="media/GvConcentricInspectAdvancedTool_4_2.png" alt="" /></p>

<p><strong>找圆工具名称</strong></p>

<p>选择列表中的找圆工具，参数列表进行相应更新。</p>

<p>找圆工具设置参数，请参考找圆工具。</p>

<p><strong>基准圆名称</strong></p>

<p>选择圆列表中的某个圆作为基准圆，其他圆与其进行比较，计算同心度。</p>

<p> <strong>同心度上下限</strong></p>

<p>对于输出参数<a href="#%E6%A3%80%E6%B5%8B%E7%BB%93%E6%9E%9C">检测结果</a>的同心度的有效范围进行设定，上限/下限的取值范围为[0.000000, 999999.999999]，另可设置为"&ndash;.&mdash;&mdash;&ldquo;,表示对上限或下限不进行限定。</p>

<p>使用同心度上限或/和同心度下限对<a href="#%E6%A3%80%E6%B5%8B%E7%BB%93%E6%9E%9C">检测结果</a>中同心度的有效范围进行设定后，执行此工具。</p>

<p>当检测结果中所有同心度数值都在设定的上下限范围内时，显示工具执行结果成功；否则，显示工具执行结果失败。</p>

<ul>
<li><h4>查看结果</h4></li>
</ul>


<p><img src="media/GvConcentricInspectAdvancedTool_4_3.png" alt="" /></p>

<p><img src="media/GvConcentricInspectAdvancedTool_4_4.png" alt="" /></p>

<h2>5. 常见问题</h2>

<table>
<thead>
<tr>
<th> 注释事项                                                     </th>
</tr>
</thead>
<tbody>
<tr>
<td> 边缘极性、对比度阈值、边缘属性、局外点比例、启动掩膜和手动设置卡尺参数修改时，都是针对单个找圆卡尺(找圆工具名称参数所选择的找圆卡尺)修改的。例如，设置其中一个找圆工具的手动设置模式参数时，需要将找圆工具名称参数设置为对应要修改的找圆工具序号，然后将手动设置卡尺参数设置为“是/否”，即可完成该找圆工具手动模式的设置。 </td>
</tr>
</tbody>
</table>


<h2>6. 参数说明</h2>

<h3>输入参数</h3>

<table>
<thead>
<tr>
<th> 参数名称             </th>
<th> 参数说明                                                     </th>
</tr>
</thead>
<tbody>
<tr>
<td> 输入图像                                                     </td>
<td> 显示待检测的图像，输入图像宽度、高度、像素大小，同图像窗口的输入图像参数。 </td>
</tr>
<tr>
<td> 二维线性变换 </td>
<td> 目标相对于模板的平移、旋转、缩放变换。                                                                                 </td>
</tr>
<tr>
<td> 找圆工具名称                                                 </td>
<td> 找圆工具的序号名称。                                     </td>
</tr>
<tr>
<td> 边缘极性     </td>
<td> 边缘极性是指图像边缘灰度级的过渡形式，分为3种，亮到暗、暗到亮和任意。                                                        </td>
</tr>
<tr>
<td> 对比度阈值   </td>
<td> 卡尺工具默认只采用对比度评价分数，即按照边缘信号的强度来评分，输出边缘最强的点。对比度阈值的取值范围是0~255。                                                           </td>
</tr>
<tr>
<td> 边缘属性     </td>
<td> 在查找区域内，卡尺根据不同的边缘属性，确定图像边缘的精确位置。卡尺工具的边缘属性有3种，最佳边缘、第一条边缘和最后一条边缘。最佳边缘是指在查找区域内，图像边缘相邻两侧灰度值相差最大的边缘； 第一条边缘是指在查找区域内，沿着卡尺Y轴的正方向，符合边缘极性的第一条图像边缘；最后一条边缘是指在查找区域内，沿着卡尺Y轴的正方向，符合边缘极性的最后一条图像边缘；                                                           </td>
</tr>
<tr>
<td> 局外点比例   </td>
<td> 局外点就是偏离曲线较远的点。局外点比例即不参与直线拟合的点的比例，取值范围是0~0.5。                                                           </td>
</tr>
<tr>
<td> 启动掩膜     </td>
<td> 掩膜设置是指在模板训练过程中，屏蔽掉不参与模式训练的区域，减少参与模式训练的几何特征。                                                           </td>
</tr>
<tr>
<td> 手动设置卡尺 </td>
<td> 选择“是”，支持手动设置卡尺参数，鼠标右键点击卡尺，在弹出的对话框中可以改变卡尺参数；选择“否”，不支持手动设置卡尺参数。                                                           </td>
</tr>
<tr>
<td> 基准圆名称   </td>
<td> 作为基准圆的找圆工具的序号名称。                                                                                       </td>
</tr>
<tr>
<td> 同心度上限 </td>
<td> 同心度上限指其它待检测圆圆心距基准圆圆心距离的最大值。其它待检测圆圆心与基准圆圆心的距离在同心度上限和同心度下限之间时，认为是同心圆。                                        </td>
</tr>
<tr>
<td> 同心度下限  </td>
<td>同心度下限指其它待检测圆圆心距基准圆圆心距离的最小值。 其它待检测圆圆心与基准圆圆心的距离在同心度上限和同心度下限之间时，认为是同心圆。 </td>
</tr>
<tr>
<td> 查找区域     </td>
<td> 图像中参与查找的区域。                                                                                                 </td>
</tr>
<tr>
<td> 高级界面             </td>
<td> 有                                                           </td>
</tr>
<tr>
<td> 找圆工具名称                                                 </td>
<td> 找圆工具的序号名称，同属性窗口的找圆工具名称参数。       </td>
</tr>
<tr>
<td> 边缘极性     </td>
<td> 边缘极性是指图像边缘灰度级的过渡形式，分为3种，亮到暗、暗到亮和任意，同属性窗口的边缘极性参数。                                                           </td>
</tr>
<tr>
<td> 对比度阈值   </td>
<td> 卡尺工具默认只采用对比度评价分数，即按照边缘信号的强度来评分，输出边缘最强的点。对比度阈值的取值范围是0~255，同属性窗口的对比度阈值参数。                                                           </td>
</tr>
<tr>
<td> 边缘属性     </td>
<td> 在查找区域内，卡尺根据不同的边缘属性，确定图像边缘的精确位置。卡尺工具的边缘属性有3种，最佳边缘、第一条边缘和最后一条边缘，同属性窗口的边缘属性参数。                                                           </td>
</tr>
<tr>
<td> 局外点比例   </td>
<td> 局外点就是偏离曲线较远的点。局外点比例即不参与直线拟合的点的比例，取值范围是0~0.5，同属性窗口的局外点比例参数。                                                           </td>
</tr>
<tr>
<td> 启动掩膜     </td>
<td> 掩膜设置是指在模板训练过程中，屏蔽掉不参与模式训练的区域，减少参与模式训练的几何特征，同属性窗口的启动掩膜参数。                                                           </td>
</tr>
<tr>
<td> 手动设置卡尺 </td>
<td> 选择“是”，支持手动设置卡尺参数，鼠标右键点击卡尺，在弹出的对话框中可以改变卡尺参数；选择“否”，不支持手动设置卡尺参数，同属性窗口的手动设置卡尺参数。                                                           </td>
</tr>
<tr>
<td> 基准圆名称   </td>
<td> 作为基准圆的找圆工具的序号名称，同属性窗口的基准圆名称参数。                                                           </td>
</tr>
<tr>
<td> 同心度上限  </td>
<td> 指其它待检测圆圆心距基准圆圆心距离的最大值，同属性窗口的同心度上限参数。                                                           </td>
</tr>
<tr>
<td> 同心度下限  </td>
<td> 指其它待检测圆圆心距基准圆圆心距离的最小值，同属性窗口的同心度下限参数。                                                         </td>
</tr>
<tr>
<td> 添加找圆     </td>
<td> 添加找圆工具，点击添加找圆按钮时，在弹出的添加找圆对话框中可以修改要添加找圆工具的名称。                                                           </td>
</tr>
<tr>
<td> 删除找圆     </td>
<td> 删除找圆工具，删除时默认是按添加的顺序删除，如果鼠标选中其中一个找圆工具，则删除鼠标选中的找圆工具。                                                           </td>
</tr>
</tbody>
</table>


<h3>输出参数</h3>

<table>
<thead>
<tr>
<th> 参数名称         </th>
<th> 参数说明                                                     </th>
</tr>
</thead>
<tbody>
<tr>
<td> 输入图像                                                     </td>
<td> 显示待检测的图像，输入图像宽度、高度、像素大小。 </td>
</tr>
<tr>
<td> 检测结果 </td>
<td> 输出检测结果，包括对应的找圆工具名称、同心度及是否合格的信息。 </td>
</tr>
<tr>
<td> 圆结果   </td>
<td> 输出同心圆的检测结果，供后序工具使用，同图像窗口的圆结果参数。</td>
</tr>
<tr>
<td> 圆心结果 </td>
<td> 输出检测圆的圆心，供后序工具使用，同图像窗口的圆心结果参数。 </td>
</tr>
<tr>
<td> 线段结果 </td>
<td> 输出基准圆圆心与其它检测圆圆心的连线，同图像窗口的线段结果参数。</td>
</tr>
<tr>
<td> 执行结果 </td>
<td> 显示工具执行结果，执行成功在结果窗口显示“OK”，执行失败在结果窗口显示“NG。 </td>
</tr>
<tr>
<td> 执行时间 </td>
<td> 工具执行时间。</td>
</tr>
</tbody>
</table>


<h2>7. 示例工程</h2>

<p>参见“\Samples\同心圆检测工具.gvp”。</p>
