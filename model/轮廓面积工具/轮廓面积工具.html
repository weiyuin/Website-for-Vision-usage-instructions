<head> 
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../css/main.css" /> 
           <script src="../../js/jquery.js"></script> 
           <script src="../../js/main.js"></script> 
           </head> 
           <head> 
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../../css/main.css" /> 
           <script src="../../../js/jquery.js"></script> 
           <script src="../../../js/main.js"></script> 
           </head>  
           <head>  
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../../../css/main.css" /> 
           <script src="../../../../js/jquery.js"></script> 
           <script src="../../../../js/main.js"></script> 
           </head>
<h1>轮廓面积工具</h1>

<h2>功能</h2>

<p>在3D测量中，轮廓面积工具主要是获取轮廓数据到基准轮廓的面积。图1所示为轮廓面积工具的效果图。</p>

<p><img src="media/wps31.jpg" alt="img" /></p>

<p><imgnote>图1 轮廓面积工具示意图</imgnote></p>

<h2>参数</h2>

<table>
<thead>
<tr>
<th>分类 </th>
<th> 参数名称       </th>
<th> 参数描述                                                                                                                   </th>
</tr>
</thead>
<tbody>
<tr>
<td> 属性窗口       </td>
<td> 定位跟随        </td>
<td> 选“是”，可以链接二维线性变换，ROI区域随二维线性变换变化。    </td>
</tr>
<tr>
<td>  </td>
<td> ROI类型 </td>
<td> 待检测区域，分为4种：整幅图像、矩形、仿射矩形、多仿射矩形。 </td>
</tr>
<tr>
<td></td>
<td> 仿射矩形ROI个数 </td>
<td> 仅在ROI类型为多仿射矩形时有效，用于指定仿射矩形的个数，取值范围[2,10]。                                                               </td>
</tr>
<tr>
<td></td>
<td> 面积类型       </td>
<td> 分为4种：基准轮廓上方面积、基准轮廓下方面积、基准轮廓上方加下方面积、基准轮廓上方减下方面积。<img src="media/wps33.jpg" alt="img" />                                                               </td>
</tr>
<tr>
<td></td>
<td> 基准轮廓类型   </td>
<td> 分为2中：从最高处创建、从最低处创建。<img src="media/wps34.jpg" alt="img" />                                                               </td>
</tr>
<tr>
<td></td>
<td> 高度阈值       </td>
<td> 高度阈值为轮廓数据到基准轮廓竖直距离的阈值。只有到基准轮廓的竖直距离大于高度阈值的轮廓点才能参与面积的计算。<img src="media/wps35.jpg" alt="img" />                                                               </td>
</tr>
<tr>
<td></td>
<td> 最大填充长度   </td>
<td> 可以对轮廓数据中的无效数据进行插值填充的最大长度。<img src="media/wps36.jpg" alt="img" />                                                               </td>
</tr>
<tr>
<td> 图像窗口       </td>
<td> 轮廓图像                                                     </td>
<td> 显示待检测的轮廓图像。                                       </td>
</tr>
<tr>
<td></td>
<td> 检测区域       </td>
<td> 显示待检测区域。                                                                                                           </td>
</tr>
<tr>
<td> 数据链         </td>
<td> 输入轮廓数据                                                 </td>
<td> 输入待检测的轮廓图像的轮廓数据，该参数来源于截面生成工具的输出轮廓数据参数。 </td>
</tr>
<tr>
<td></td>
<td> 基准线         </td>
<td> 给定基准线，轮廓面积工具通过选择基准轮廓类型确定基准轮廓，该参数来自轮廓线圆拟合工具。                                                               </td>
</tr>
<tr>
<td>高级界面</td>
<td> 无       </td>
<td> 无                                                                                                                      </td>
</tr>
</tbody>
</table>


<h2>输出</h2>

<table>
<thead>
<tr>
<th>分类 </th>
<th> 参数名称       </th>
<th> 参数描述                                                                                                               </th>
</tr>
</thead>
<tbody>
<tr>
<td> 监视窗口       </td>
<td> 输入轮廓数据                                                 </td>
<td> 输入待检测的轮廓图像的轮廓数据，包括轮廓点数，有效点数。 </td>
</tr>
<tr>
<td></td>
<td> 面积           </td>
<td> 面积测量结果。                                                                                                         </td>
</tr>
<tr>
<td></td>
<td> 质心           </td>
<td> 面积计算区域内所有面积的质心。                                                                                         </td>
</tr>
<tr>
<td></td>
<td> 轮廓上方最近点 </td>
<td> 位于面积计算区域内和基准轮廓上方，且距离基准轮廓最近的点。                                                             </td>
</tr>
<tr>
<td></td>
<td> 轮廓上方最远点 </td>
<td> 位于面积计算区域内和基准轮廓上方，且距离基准轮廓最远的点。                                                             </td>
</tr>
<tr>
<td></td>
<td> 轮廓下方最近点 </td>
<td> 位于面积计算区域内和基准轮廓下方，且距离基准轮廓最近的点。                                                             </td>
</tr>
<tr>
<td></td>
<td> 轮廓下方最远点 </td>
<td> 位于面积计算区域内和基准轮廓下方，且距离基准轮廓最远的点。                                                             </td>
</tr>
<tr>
<td></td>
<td> 左点           </td>
<td> 位于面积计算区域内的最左点。                                                                                           </td>
</tr>
<tr>
<td></td>
<td> 右点           </td>
<td> 位于面积计算区域内的最右点。                                                                                           </td>
</tr>
<tr>
<td></td>
<td> 执行结果       </td>
<td> 工具执行结果。                                                                                                         </td>
</tr>
<tr>
<td></td>
<td> 执行时间       </td>
<td> 工具执行时间。                                                                                                         </td>
</tr>
<tr>
<td> 图像窗口       </td>
<td> 轮廓图像                                                     </td>
<td> 显示待检测的轮廓图像。                                   </td>
</tr>
<tr>
<td></td>
<td> 轮廓面积       </td>
<td> 显示轮廓面积测量结果。                                                                                                 </td>
</tr>
<tr>
<td></td>
<td> 特征点         </td>
<td> 显示质心、轮廓上方最近点、轮廓上方最远点、轮廓下方最近点、轮廓下方最远点、左点、右点等特征点。                                                           </td>
</tr>
<tr>
<td></td>
<td> 数据链         </td>
<td> 同监视窗口参数，供后续工具使用。                                                                                       </td>
</tr>
</tbody>
</table>


<h2>详细说明</h2>

<p><img src="media/wps39.png" alt="img" /></p>

<p><imgnote>图2 面积测量参数示意图</imgnote></p>

<h3>使用向导</h3>

<p><strong>Step 1 候选基准线获取</strong></p>

<p>对于轮廓面积工具，首先需要对候选基准线进行获取，该参数通过参数链接从外部获取，其来源是轮廓线圆拟合工具。</p>

<p><strong>Step 2 设置面积检测区域和参数</strong></p>

<p>获取到候选基准线之后，需要对面积检测区域和参数进行设置。其中，面积的检测区域分为4种：整幅图像、矩形，仿射矩形，多仿射矩形（最多支持10个）。面积测量参数主要包括：基准轮廓，面积类型，高度阈值和最大填充长度等。其中，</p>

<p><strong>基准轮廓类型</strong></p>

<ul>
<li><p><strong>最高基准轮廓：</strong>多条候选基准线在Z方向的最大值所构成的基准轮廓，如图2(a)所示。</p></li>
<li><p><strong>最低基准轮廓：</strong>多条候选基准线在Z方向的最小值所构成的基准轮廓，如图2(b)所示。</p></li>
</ul>


<p><strong>面积类型</strong></p>

<ul>
<li><p><strong>基准轮廓上方面积：</strong>基准轮廓上方的轮廓数据与基准轮廓构成的面积，如图2&copy;所示。</p></li>
<li><p><strong>基准轮廓下方面积：</strong>基准轮廓下方的轮廓数据与基准轮廓构成的面积，如图2(d)所示。</p></li>
<li><p><strong>基准轮廓上方面积加下方面积：</strong>基准轮廓上方面积与基准轮廓下方面积之和，如图2(e)所示。</p></li>
<li><p><strong>基准轮廓上方面积减下方面积：</strong>三基准轮廓上方面积减去基准轮廓下方面积，如图2(f)所示。</p></li>
</ul>


<p><strong>高度阈值</strong></p>

<ul>
<li><strong>轮廓数据到基准轮廓竖直距离的阈值。</strong>只有到基准轮廓的竖直距离大于高度阈值的轮廓点才能参与面积的计算，如图2(g)所示。</li>
</ul>


<p><strong>最大填充长度</strong></p>

<ul>
<li><strong>可以对轮廓数据中的无效数据进行插值填充的最大长度。</strong>如图2(h)和2(i)所示，当最大填充长度小于无效轮廓数据的长度时，此时效轮廓数据不进行插值填充，面积计算采用有效轮廓数据进行计算；当最大填充长度不小于无效轮廓数据长度时，此时无效轮廓数据将被插值，并和有效轮廓数据一起参与面积的计算。</li>
</ul>


<p><strong>Step 3 执行测量和输出结果</strong></p>

<p>完成上述步骤后，就可以执行面积测量了。输出的结果将包括面积测量的结果和面积的特征点（如果存在）。</p>

<p><strong>左点：</strong>面积计算区域内的最左点，如图2(j)所示。水平方向上位于左点和右点之间的轮廓点才能参与面积的计算。</p>

<p><strong>右点：</strong>面积计算区域内的最右点，如图2(k)所示。水平方向上位于左点和右点之间的轮廓点才能参与面积的计算。</p>

<p><strong>基准轮廓上方最远点：</strong>位于面积计算区域内和基准轮廓上方，且距离基准轮廓最远的点，如图2(l)所示。</p>

<p><strong>基准轮廓上方最近点：</strong>位于面积计算区域内和基准轮廓上方，且距离基准轮廓最近的点，如图2(m)所示。</p>

<p><strong>基准轮廓下方最远点：</strong>位于面积计算区域内和基准轮廓下方，且距离基准轮廓最远的点，如图2(n)所示。</p>

<p><strong>基准轮廓下方最近点：</strong>位于面积计算区域内和基准轮廓下方，且距离基准轮廓最近的点，如图2(o)所示。</p>

<p><strong>质心：</strong>面积计算区域内所有面积的质心，如图2(p)所示。</p>

<h2>注意</h2>

<p>无</p>

<h2>示例工程</h2>

<p>参见“\Samples\3D\深度图\3D测量工具.gvp”。</p>
