<head> 
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../css/main.css" /> 
           <script src="../../js/jquery.js"></script> 
           <script src="../../js/main.js"></script> 
           </head> 
           <head> 
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../../css/main.css" /> 
           <script src="../../../js/jquery.js"></script> 
           <script src="../../../js/main.js"></script> 
           </head>  
           <head>  
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../../../css/main.css" /> 
           <script src="../../../../js/jquery.js"></script> 
           <script src="../../../../js/main.js"></script> 
           </head>
<h1>点云手眼标定工具</h1>

<h2>1.功能概述</h2>

<p>​         该工具主要<strong>提供获取相机与机器人坐标系间的位姿转换关系</strong>，以配合机械臂进行抓取或引导。</p>

<h2>2.使用场景</h2>

<p>​          该工具主要用于配合机械臂抓取或引导类项目比如：</p>

<p>​        <strong>场景1：3C产品大范围的尺寸测量、缺陷检测、柔性装配等3D引导检测项目</strong></p>

<div align="center">
<img src="media/3DHandeyeCalib Tool_2_1.png" style="zoom:50%;"/>
    <center>图2_1 柔性装配项目-图片来源于网络</center>
</div>


<p>​        <strong>场景2：仓储物流领域的无序抓取分拣、拆垛码垛 or 汽车制造领域的涂胶、焊接等自动化项目</strong></p>

<div align="center">
<img src="media/3DHandeyeCalib Tool_2_2.png" style="zoom:50%;"/>
    <center>图2_1 码垛机器人项目-图片来源于网络</center>
</div>


<h2>3.使用向导</h2>

<ul>
<li><h3>方案步骤</h3>

<p><strong>Step1：</strong>准备3D标定块；</p>

<p><strong>Step2：</strong>控制机器人<strong>以不同位姿</strong>运动到<strong>不同位置</strong>下，记录此时的<strong>执行器与机器人世界基准</strong>的坐标转换关系及获取<strong>标定板到相机</strong>的坐标转换关系；</p>

<p>注：</p>

<p>执行器与世界基准的坐标转换关系可由机器人<strong>直接提供</strong>；</p>

<p>标定板到相机的转换关系可由3D<strong>点云配准</strong><strong>对齐</strong>获取；</p>

<p><strong>Step3：</strong>根据多组姿态（最少4组，一般为15组及以上，组数越多越好）下的刚体变换关系对，输入手眼标定算子即可获取<strong>相机与机器人执行器</strong>的转换关系。</p></li>
<li><h3>工具添加，文件导入、参数调节</h3>

<p><strong>Step1:</strong> 添加点云手眼标定工具，选择标定类型、靶标类型和标定方式，并加载离线文件如图3-1所示；
<strong>Step2: </strong>右击点云手眼标定工具点击“属性”打开工具高级界面，如图3-2所示；</p></li>
</ul>


<div align="center">
<img src="media/3DHandeyeCalib Tool_3_1.png" style="zoom:100%;"/>
    <center>图3_1 添加点云手眼标定工具</center>
</div>




<div align="center">
<img src="media/3DHandeyeCalib Tool_3_2.png" style="zoom:100%;"/>
    <center>图3_2 点云手眼标定工具运行结果及保存</center>
</div>


<h2>4.常见问题</h2>

<h2>5.参数说明</h2>

<h4>输入参数（参数链）</h4>

<table>
<thead>
<tr>
<th> 参数名称                    </th>
<th> 参数描述                                                                                                       </th>
</tr>
</thead>
<tbody>
<tr>
<td> 机械臂末端相对于基座的位姿                                  </td>
<td> 机械臂末端相对于基座的位姿                          </td>
</tr>
<tr>
<td> 标志点在相机坐标系下的坐标 </td>
<td> 标志点在相机坐标系下的坐标 </td>
</tr>
<tr>
<td> 标定板到相机的刚体变换 </td>
<td> 标定板相对于相机的刚体变换 </td>
</tr>
</tbody>
</table>


<h4>输入参数（属性窗口）</h4>

<table>
<thead>
<tr>
<th> 参数名称                    </th>
<th> 参数描述                                                                                                       </th>
</tr>
</thead>
<tbody>
<tr>
<td>  </td>
<td> 选择是，则重新进行标定 </td>
</tr>
<tr>
<td> 标定类型                              </td>
<td> 支持手眼标定和TCP标定；手眼标定一般20组数据比较合适；TCP标定一般用7个点位，前4个标位置，后3个用于建立坐标系 </td>
</tr>
<tr>
<td> 机械臂旋转顺序 </td>
<td> 目前支持按Z-Y-X或X-Y-Z顺序旋转 </td>
</tr>
<tr>
<td> 机械臂坐标物理单位 </td>
<td> 可以选择m或者mm </td>
</tr>
<tr>
<td> 相机安装方式 </td>
<td> 支持眼在手外和眼在手上 </td>
</tr>
<tr>
<td> 靶标类型 </td>
<td> 支持2D靶标和3D靶标 </td>
</tr>
<tr>
<td> 标定方式 </td>
<td> 可以选择离线标定或在线标定                                   </td>
</tr>
</tbody>
</table>


<h4>输入参数（高级界面）</h4>

<p>高级界面参数与属性窗口参数一致。</p>

<h4>输出参数（参数链）</h4>

<table>
<thead>
<tr>
<th> 参数名称                                   </th>
<th> 参数描述                                                                                             </th>
</tr>
</thead>
<tbody>
<tr>
<td>刚性变换矩阵   </td>
<td>刚性变换矩阵：Trans，平移矩阵<br />刚性变换矩阵：Matrix，旋转矩阵</td>
</tr>
<tr>
<td> 工具中心点在机器人执行器坐标系下的坐标 </td>
<td> 供其他工具输入使用的点坐标 </td>
</tr>
</tbody>
</table>


<h4>输出参数（输出窗口）</h4>

<table>
<thead>
<tr>
<th> 参数名称                                   </th>
<th> 参数描述                                                                                             </th>
</tr>
</thead>
<tbody>
<tr>
<td>刚性变换矩阵   </td>
<td>刚性变换矩阵：Trans，平移矩阵<br />刚性变换矩阵：Matrix，旋转矩阵</td>
</tr>
<tr>
<td>3D靶标手眼标定误差 </td>
<td>3D靶标手眼标定误差</td>
</tr>
<tr>
<td>标定误差 </td>
<td>标定误差</td>
</tr>
<tr>
<td>重投影误差 </td>
<td>XYZ三个方向的误差值</td>
</tr>
<tr>
<td>工具中心点在机器人执行器坐标系下的坐标 </td>
<td>输出工具中心点在机器人执行器坐标系下的坐标</td>
</tr>
<tr>
<td>TCP标定误差集 </td>
<td>TCP标定误差集</td>
</tr>
<tr>
<td>执行时间 </td>
<td>工具执行时间</td>
</tr>
<tr>
<td>执行结果 </td>
<td>工具执行结果</td>
</tr>
</tbody>
</table>


<h2>6.示例工程</h2>

<p>参见“\Samples\3D\点云\点云手眼标定工具.gvp”。</p>

<h2>7.特殊说明</h2>

<h3>算法原理说明</h3>

<p>主要是根据机械臂姿态和对应的靶标位姿或靶标中心点之间的点对关系建立AX=XB方程，求得所需的手眼标定矩阵；</p>

<div align="center">
<img src="media/3DHandeyeCalib Tool_7_1.png" style="zoom:100%;"/>
    <center>图7_1 点云手眼标定原理</center>
</div>



