<head> 
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../css/main.css" /> 
           <script src="../../js/jquery.js"></script> 
           <script src="../../js/main.js"></script> 
           </head> 
           <head> 
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../../css/main.css" /> 
           <script src="../../../js/jquery.js"></script> 
           <script src="../../../js/main.js"></script> 
           </head>  
           <head>  
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../../../css/main.css" /> 
           <script src="../../../../js/jquery.js"></script> 
           <script src="../../../../js/main.js"></script> 
           </head>
<h1>标准标定计算</h1>

<h2>功能</h2>

<p>本工具用于运动平台的相机的标定，可以计算出相机和平台坐标系的关系，相机的像素当量等，标定计算一般分为平移标定和旋转标定，因此需要两个标准标定计算工具，其中一个用于平移计算，另外一个用于旋转计算，一般多用于对位应用。标准标定计算工具分为平移标定和旋转标定，可以在属性窗口进行选择。</p>

<p>在标准标定过程中，通过一定步数的标定运动（相应轴位置由标准标定轴位置获取工具计算得出），可以得到每一拍照位置下特征点图像坐标组成的坐标向量。该坐标向量与已知的交互运动步长一起作为输入，标准标定计算工具即可进行标定计算，得到图像坐标系与平台坐标系的旋转平移映射关系。</p>

<p>典型的平台为XYD平台，标定过程为7步标定：初始位置，右下，左上，左下，右上，初始位置，顺时针旋转，逆时针旋转。在每个位置都会进行拍照定位，前5个位置的定位结果，用于进行平移标定计算，标定计算类型属性选择“5点XY平移标定”；后3个位置的定位结果用于旋转标定计算，标定计算类型属性选择“3点D轴旋转标定”。</p>

<p>如果平台为XD平台，标定过程为5步标定：初始位置，右，左，初始位置，顺时针旋转，逆时针旋转。在每个位置都会进行拍照定位，前3个位置的定位结果，用于进行平移标定计算，标定计算类型属性选择“3点X平移标定”；后3个位置的定位结果用于旋转标定计算，标定计算类型属性选择“3点D轴旋转标定”。</p>

<p>输入需要每个位置的定位结果，即图像坐标向量；标定过程中的移动补偿，即标定交互运动步长。对于旋转标定还需要输入平移标定计算的标定结果。</p>

<h2>参数</h2>

<table>
<thead>
<tr>
<th>分类 </th>
<th> 参数名称                                                  </th>
<th> 参数描述                                                                                                           </th>
</tr>
</thead>
<tbody>
<tr>
<td> 属性窗口                                                  </td>
<td> 标定计算类型                                                 </td>
<td> 5点XY轴平移标定：XY轴或XYD轴平台的平移标定结果计算。<br />3点X轴平移标定：X轴或XD轴平台的平移标定结果计算。<br />3点Y轴平移标定：Y轴或YD轴平台的平移标定结果计算。<br />3点D轴旋转标定：XD轴、YD轴或XYD轴平台的旋转标定结果计算。 </td>
</tr>
<tr>
<td>图像窗口</td>
<td> 无               </td>
<td> 无                                                                                                                 </td>
</tr>
<tr>
<td> 数据链                                                    </td>
<td> 图像坐标向量                                                 </td>
<td> 由每一次标定运动后定位的特征点图像坐标构成的向量。   </td>
</tr>
<tr>
<td></td>
<td> 标定交互运动步长                                          </td>
<td> 标定运动时平台各轴的运动步长。                                                                                     </td>
</tr>
<tr>
<td></td>
<td> 输入标定结果                                              </td>
<td> 只在标定计算类型为3点D轴旋转标定时使用，当平台轴分别为XD轴、YD轴、XYD轴时，输入的分别为3点X轴平移、3点Y轴平移、5点XY轴平移标定结果。<img src="media/wps56.jpg" alt="img" />                                                       </td>
</tr>
<tr>
<td>高级界面</td>
<td> 无                                                 </td>
<td> 无                                                                                                                 </td>
</tr>
</tbody>
</table>


<h2>输出</h2>

<table>
<thead>
<tr>
<th>分类 </th>
<th> 参数名称         </th>
<th> 参数描述                                                                                                                   </th>
</tr>
</thead>
<tbody>
<tr>
<td> 监视窗口         </td>
<td> 图像坐标向量                                                 </td>
<td> 由每一次标定运动后定位的特征点图像坐标构成的向量。           </td>
</tr>
<tr>
<td></td>
<td> 标定交互运动步长 </td>
<td> 标定运动时平台各轴的运动步长。                                                                                             </td>
</tr>
<tr>
<td></td>
<td> 标定结果         </td>
<td> 输出工具的相应标定结果。                                                                                                   </td>
</tr>
<tr>
<td></td>
<td> 图像坐标         </td>
<td> 旋转中心点的图像坐标。                                                                                                     </td>
</tr>
<tr>
<td></td>
<td> 平台坐标         </td>
<td> 旋转中心点的平台坐标。                                                                                                     </td>
</tr>
<tr>
<td></td>
<td> 机械XY轴夹角     </td>
<td> 机构X轴和Y轴的夹角。                                                                                                       </td>
</tr>
<tr>
<td></td>
<td> 平移误差         </td>
<td> 标定平移走位的4个位置和其最小外接矩形之间的RMS。<img src="media/wps58.jpg" alt="img" />                                                               </td>
</tr>
<tr>
<td></td>
<td> 旋转误差         </td>
<td> 旋转误差。<img src="media/wps59.jpg" alt="img" />                                                                                          </td>
</tr>
<tr>
<td></td>
<td> 执行结果         </td>
<td> 工具执行结果。                                                                                                             </td>
</tr>
<tr>
<td></td>
<td> 执行时间         </td>
<td> 工具执行时间。                                                                                                             </td>
</tr>
<tr>
<td></td>
<td> 图像窗口         </td>
<td> 无                                                                                                                         </td>
</tr>
<tr>
<td> 数据链           </td>
<td> 标定结果                                             </td>
<td> 输出工具的相应标定结果，供后序工具使用，同监视窗口参数。 </td>
</tr>
<tr>
<td>  </td>
<td> 图像坐标 </td>
<td> 旋转中心点的图像坐标，供后序工具使用，同监视窗口参数。 </td>
</tr>
<tr>
<td>  </td>
<td> 平台坐标 </td>
<td> 旋转中心点的平台坐标，供后序工具使用，同监视窗口参数。 </td>
</tr>
<tr>
<td></td>
<td> 机械XY轴夹角 </td>
<td> 机构X轴和Y轴的夹角，同监视窗口参数。                                                     </td>
</tr>
<tr>
<td></td>
<td> 平移误差 </td>
<td> 标定平移走位的4个位置和其最小外接矩形之间的RMS，同监视窗口参数。 </td>
</tr>
<tr>
<td></td>
<td> 旋转误差       </td>
<td> 旋转误差，同监视窗口参数。                              </td>
</tr>
</tbody>
</table>


<h2>详细说明</h2>

<h3>输入标定结果</h3>

<p>只在标定计算类型为3点D轴旋转标定时使用。</p>

<p>这是由于当平台轴为XD轴、YD轴、XYD轴时，标准标定计算流程采用平移标定计算工具与D轴旋转标定计算工具组合的形式来实现整个标定计算，即采用两个标准标定计算工具来完成整个功能。后一个D轴旋转标定计算类型的工具需要将上一个平移标定计算工具的平移标定结果作为输入参数。</p>

<h3>平移误差</h3>

<p>标定平移走位的4个位置和其最小外接矩形之间的RMS。即</p>

<p><img src="media/wps61.jpg" alt="img" /></p>

<p><img src="media/wps62.png" alt="img" /></p>

<h3>旋转误差</h3>

<p>设顺时针旋转后的图像坐标转换到平台坐标为P1，逆时针旋转后的图像左边转换到平台坐标为P2，初始位置的图像坐标转换到平台坐标为P，则旋转误差为：</p>

<p><img src="media/wps63.jpg" alt="img" /></p>

<h2>注意</h2>

<ul>
<li>配置流程中，应根据标定平台类型对该工具进行计算类型的选择以及组合，而在组合使用工具中，D轴旋转标定计算工具应将上一个平移标定计算工具的标定结果作为参数输入进来。对应平台类型与工具选择组合情形如下表：</li>
</ul>


<table>
<thead>
<tr>
<th> 平台类型 </th>
<th> 工具参数选择与组合             </th>
</tr>
</thead>
<tbody>
<tr>
<td> XYD      </td>
<td> 5点XY轴平移标定+3点D轴旋转标定 </td>
</tr>
<tr>
<td> XY       </td>
<td> 5点XY轴平移标定                </td>
</tr>
<tr>
<td> XD       </td>
<td> 3点X轴平移标定+3点D轴旋转标定  </td>
</tr>
<tr>
<td> YD       </td>
<td> 3点Y轴平移标定+3点D轴旋转标定  </td>
</tr>
<tr>
<td> X        </td>
<td> 3点X轴平移标定                 </td>
</tr>
<tr>
<td> Y        </td>
<td> 3点Y轴平移标定                 </td>
</tr>
</tbody>
</table>


<h2>示例工程</h2>

<p>参见“\Samples\标准标定+基准两点对位.gvp”</p>
