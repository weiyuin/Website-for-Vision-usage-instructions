<head> 
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../css/main.css" /> 
           <script src="../../js/jquery.js"></script> 
           <script src="../../js/main.js"></script> 
           </head> 
           <head> 
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../../css/main.css" /> 
           <script src="../../../js/jquery.js"></script> 
           <script src="../../../js/main.js"></script> 
           </head>  
           <head>  
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../../../css/main.css" /> 
           <script src="../../../../js/jquery.js"></script> 
           <script src="../../../../js/main.js"></script> 
           </head>
<h1>3D测量集成工具</h1>

<h2>1.功能概述</h2>

<p>3D测量集成工具对单图像段内的高度检测、参数设置、结果显示等流程进行固化集成，内部集成了点云定位、预处理、带局外点平面拟合、高度测量、点云位置测量等工具功能，以达到简化检测工程、提高调试效率，增加工程扩展性的目的。</p>

<h2>2.使用场景</h2>

<p>典型的应用场景如：结构件落差测量，获取感兴趣区域内三维空间点到指定基平面的高度距离，完成高度信息统计。一般先指定基平面，以及感兴趣区域内三维空间点的位置坐标；然后通过查看高度直方图，即描述高度数据分布情况的统计信息，包括：高度直方图、最小值、最大值、均值、中值、标准差、低尾部和高尾部等信息。调整相应的参数使得测量结果满足重复性、相关性等现场对齐要求。</p>

<p><img src="media/EasyMeasurement_2_1.png" alt="img" /></p>

<p><imgnote>图2_1 高度测量示意图</imgnote></p>

<p><img src="media/EasyMeasurement_2_2.png" alt="img" /></p>

<p><imgnote>图2_2 结构件3D示意图</imgnote></p>

<h2>3.使用向导</h2>

<h3>添加工具、导入图像</h3>

<p><img src="media/EasyMeasurement_3_1.png" alt="img" /></p>

<h3>检测参数设置</h3>

<h4>Step1：设置产品定位参数</h4>

<p><img src="media/EasyMeasurement_3_2.gif" alt="img" /></p>

<p><imgnote>图3_2 注册模板</imgnote></p>

<p>工具执行流程：配置输入→设定参数→训练图像→执行搜索。</p>

<p>（1）点击“获取训练图像”：更新训练图像，点击后会先进行弹框提示；</p>

<p>（2）点击“执行模式训练”：进行训练；</p>

<p>（3）根据设定的搜索参数和判定结果参数返回相应的搜索结果。</p>

<h4>Step2：设置测量项</h4>

<p>​  测量项的定位模板为Step1中注册的模板或从外部定位工具获取的模板；测量子项的添加过程如图3_3所示；图3_4演示了子项参数设置操作。</p>

<p><img src="media/EasyMeasurement_3_3.gif" alt="img" /></p>

<p><imgnote>图3_3 测量子项添加</imgnote></p>

<p><img src="media/EasyMeasurement_3_4.gif" alt="img" /></p>

<p><imgnote>图3_4 设置测量子项</imgnote></p>

<p><font color='color' size=2>注：使用者在设置预处理时，建议根据具体的图像情况选择合适的预处理工具，预处理参数设置过程中会实时执行并得到结果图像。</font></p>

<h4>Step3：输出设置</h4>

<p>​ 输出设置具通过获取当前测量项的所有子项的最大高度、最小高度和平均高度，添加至对应的列表中，然后通过ID获取相应的测量结果、通过修改测量类型（可以选择高度或段差），系数补偿、固定补偿和阈值上下限，执行得到结果。具体设定见图3_5所示。</p>

<p><img src="media/EasyMeasurement_3_5.gif" alt="img" /></p>

<p><imgnote>图3_5 输出设置</imgnote></p>

<h2>4.常见问题</h2>

<h2>5.参数说明</h2>

<h2>输出</h2>

<table>
<thead>
<tr>
<th> 参数名称                                   </th>
<th> 参数描述                                                                                             </th>
</tr>
</thead>
<tbody>
<tr>
<td> 二维线性变换数组                 </td>
<td> 产品定位执行后的刚性变换矩阵；                                               </td>
</tr>
<tr>
<td> 二维线性变换执行结果                 </td>
<td> 产品定位执行的结果OK/NG；                                                 </td>
</tr>
<tr>
<td> 测量结果数据                                 </td>
<td> 输出设置中各个结果值所包含的参数，包括系数补偿、固定补偿、阈值上下限等参数，引用时需要注意类型转换 </td>
</tr>
<tr>
<td> 执行结果                                   </td>
<td> 工具执行结果；                                                                                       </td>
</tr>
<tr>
<td> 执行时间                                   </td>
<td> 工具执行时间；                                                                                       </td>
</tr>
<tr>
<td> 输入深度图像                                                 </td>
<td> 显示检测的深度图像，显示为伪彩色图像； </td>
</tr>
<tr>
<td> 输出深度图像                               </td>
<td> 显示工具执行检测后的深度图像；                                                      </td>
</tr>
<tr>
<td> 输出轮廓数组                                                 </td>
<td> 输出截面生成功能执行后的输出轮廓数组； </td>
</tr>
</tbody>
</table>


<h2>6.示例工程</h2>

<p>参见“\Samples\3D\深度图\3D测量集成工具.gvp”。</p>

<h2>7.特殊说明</h2>

<h3>产品定位说明</h3>

<p>​ a、 颗粒度：图像中最小检测特征的度量，是对要检测的最小图像特征尺寸的一种描述。颗粒度越大，采样间隔越大，训练时提取的最小特征尺寸越大。随着颗粒度增加，能获取特征的目标尺寸增大，有效特征数量不断减少；</p>

<p>​ b、 精细颗粒度：模式训练过程中用于检测精细特征所设置的较小颗粒度。精细颗粒度可以有效地保留小尺寸目标的边缘特征或大尺寸目标中的局部细节特征，可提高实时搜索的定位精度，但可能导致定位耗时增多；</p>

<p>​ c、 噪声阈值：模式训练过程中，有效边缘点梯度幅值的最小值。梯度幅值低于噪声阈值的边缘点将视为噪声点被滤除”；</p>

<p>​ d、 边缘强度：模式训练过程中，有效边缘特征链（由多个有效边缘点组成）的梯度幅值的最小值。梯度幅值和低于边缘强度阈值的短链和弱边缘长链将被滤除；</p>
