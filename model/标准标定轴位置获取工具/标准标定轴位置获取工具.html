<head> 
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../css/main.css" /> 
           <script src="../../js/jquery.js"></script> 
           <script src="../../js/main.js"></script> 
           </head> 
           <head> 
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../../css/main.css" /> 
           <script src="../../../js/jquery.js"></script> 
           <script src="../../../js/main.js"></script> 
           </head>  
           <head>  
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../../../css/main.css" /> 
           <script src="../../../../js/jquery.js"></script> 
           <script src="../../../../js/main.js"></script> 
           </head>
<h1>标准标定轴位置获取</h1>

<h2>功能</h2>

<p>本工具用于生成平台轴标定过程中走位位置的平台轴绝对位置或相对位置，也可以生成相机轴标定过程中走位位置的相机轴绝对位置或相对位置，并决定在该位置是否拍照。在属性窗口可以设置实际项目中使用的平台类型，各个轴方向等。设置XY轴属性为“相机”，可以生成相机轴标定所需的相机轴绝对位置或相对位置。</p>

<p>以XYD平台类型机械手为例，机械手运动标定工具的基本原理是，机械手带着产品按照如图1所示的路径运动，相机对产品上的标记点拍照，将机械手的运动距离和相机的图像坐标代入转换关系计算，建立图像坐标系和平台坐标系间的映射关系。</p>

<p><img src="media/wps69.jpg" alt="img" /></p>

<p><imgnote>图1 XYD平台标定运动路径</imgnote></p>

<p>图1中的位置0、1、2、3、4是平移运动，标定坐标系间的旋转和缩放关系；位置0、5、6是旋转运动，标定坐标系间的平移关系。标准标定轴位置获取工具的作用就是根据平台类型生成对应的标定运动总步数，依据当前的轴位置与输入的运动步长，同时根据输入的索引来生成特定索引对应的平台坐标。其余平台类型的标定原理与以上类似，只在运动步数与路径上有不同。</p>

<h2>参数</h2>

<table>
<thead>
<tr>
<th>分类 </th>
<th> 参数名称       </th>
<th> 参数描述                                                                                                                   </th>
</tr>
</thead>
<tbody>
<tr>
<td> 属性窗口       </td>
<td> 平台类型                                                     </td>
<td> 有XYD/XY/XD/YD/X/Y/D六种类型选项，对应实际项目中的六种平台类型。 </td>
</tr>
<tr>
<td></td>
<td> 轴正方向       </td>
<td> 用于根据实际项目设置X/Y/D轴方向。                                                                                          </td>
</tr>
<tr>
<td></td>
<td> 轴属性         </td>
<td> 用于根据实际项目设置X/Y/D轴属性，是相机轴还是平台轴。                                                                      </td>
</tr>
<tr>
<td></td>
<td> 轴运动步长     </td>
<td> 用于根据实际项目设置X/Y/D轴的运动步长。                                                                                    </td>
</tr>
<tr>
<td></td>
<td> 是否绝对轴位置 </td>
<td> 根据实际项目来设定是否是绝对轴位置，从而判定输出的机械轴位置为绝对位置还是相对位置。                                                               </td>
</tr>
<tr>
<td></td>
<td> 消除反向间隙   </td>
<td> 决定是否消除反向间隙。<img src="media/wps71.jpg" alt="img" />                                                                              </td>
</tr>
<tr>
<td>图像窗口</td>
<td> 无      </td>
<td> 无                                                                                                                         </td>
</tr>
<tr>
<td> 数据链         </td>
<td> 初始轴位置                                                   </td>
<td> 设置初始轴位置，通常由与机械手平台通信获得。                 </td>
</tr>
<tr>
<td></td>
<td> 索引值         </td>
<td> 输入步数索引，用来决定输出相应位置对应的轴位置。<img src="media/wps72.jpg" alt="img" />                                                               </td>
</tr>
<tr>
<td>高级界面</td>
<td> 无      </td>
<td> 无                                                                                                                         </td>
</tr>
</tbody>
</table>


<h2>输出</h2>

<table>
<thead>
<tr>
<th>分类 </th>
<th> 参数名称             </th>
<th> 参数描述                                                                                                               </th>
</tr>
</thead>
<tbody>
<tr>
<td> 监视窗口             </td>
<td> 轴位置                                                       </td>
<td> 索引值对应的轴位置结果                                   </td>
</tr>
<tr>
<td></td>
<td> 交互运动步长         </td>
<td> 输出轴的交互运动步长                                                                                                   </td>
</tr>
<tr>
<td></td>
<td> 轴方向               </td>
<td> 输出轴正方向                                                                                                           </td>
</tr>
<tr>
<td></td>
<td> 是否拍照             </td>
<td> 在计算出的当前轴位置处是否拍照                                                                                         </td>
</tr>
<tr>
<td></td>
<td> 标定运动总步数       </td>
<td> 由输入的条件计算出的标定运动的总位置个数                                                                               </td>
</tr>
<tr>
<td></td>
<td> 拍照位置总数         </td>
<td> 所有运动位置中拍照位置的个数                                                                                           </td>
</tr>
<tr>
<td></td>
<td> 平移标定拍照位置数量 </td>
<td> 所有运动位置中用于平移标定的拍照位置个数                                                                               </td>
</tr>
<tr>
<td></td>
<td> 旋转标定拍照位置数量 </td>
<td> 所有运动位置中用于旋转标定的拍照位置个数                                                                               </td>
</tr>
<tr>
<td></td>
<td> 执行结果             </td>
<td> 工具执行结果                                                                                                           </td>
</tr>
<tr>
<td></td>
<td> 执行时间             </td>
<td> 工具执行时间                                                                                                           </td>
</tr>
<tr>
<td>图像窗口</td>
<td> 无            </td>
<td> 无                                                                                                                     </td>
</tr>
<tr>
<td> 数据链               </td>
<td> 轴位置                                                       </td>
<td> 索引值对应的轴位置结果，供后序工具使用，同监视窗口参数。 </td>
</tr>
<tr>
<td></td>
<td> 交互运动步长         </td>
<td> 轴的交互运动步长，供后序工具使用，同监视窗口参数。                                                                     </td>
</tr>
<tr>
<td></td>
<td> 轴方向               </td>
<td> 轴正方向，供后序工具使用，同监视窗口参数。                                                                             </td>
</tr>
<tr>
<td></td>
<td> 是否拍照             </td>
<td> 当前轴位置处是否拍照，供后序工具使用，同监视窗口参数。                                                                 </td>
</tr>
<tr>
<td></td>
<td> 标定运动总步数       </td>
<td> 标定运动的总位置个数，供后序工具使用，同监视窗口参数。                                                                 </td>
</tr>
<tr>
<td></td>
<td> 拍照位置总数         </td>
<td> 所有运动位置中拍照位置的个数，供后序工具使用，同监视窗口参数。                                                           </td>
</tr>
<tr>
<td></td>
<td> 平移标定拍照位置数量 </td>
<td> 所有运动位置中用于平移标定的拍照位置个数，供后序工具使用，同监视窗口参数。                                                           </td>
</tr>
<tr>
<td></td>
<td> 旋转标定拍照位置数量 </td>
<td> 所有运动位置中用于旋转标定的拍照位置个数，供后序工具使用，同监视窗口参数。                                                           </td>
</tr>
</tbody>
</table>


<h2>详细说明</h2>

<h3>索引值</h3>

<p>索引值，表示的是第几个位置，例如XYD平台标定对应为7步标定，实际是移动9步（次），走7个位置，其中初始位置三次。走位位置从图像上看为：初始位置、右下，左上，左下、右上、初始位置、顺时针旋转、逆时针旋转、初始位置。索引值对应的就是第几步，例如索引值为2，对应的位置为左上，索引值为0对应初始位置。其中最后一次走位的初始位置不进行拍照，只是为了让平台回到初始位置。</p>

<h3>消除反向间隙</h3>

<p>机械手平移运动可能存在反向间隙，即运动方向改变时存在一段空白行程，电机旋转但是丝杠导轨并不运动。为了消除反向间隙，在设计运动路径时增加了起始位置。即机械手每次都从起始位置运动到各个拍照位置，但在起始位置时并不拍照，如图2所示。是否使用消除间隙的运动路径，由机械手平移运动是否存在反向间隙决定。</p>

<p><img src="media/wps75.jpg" alt="img" /></p>

<p><imgnote>图2 XYD平台消除反向间隙标定运动路径   </imgnote></p>

<h2>注意</h2>

<ul>
<li>该工具通常用在循环结构中，以标定运动总步数为最大值的索引值遍历该工具，从而输出各索引值所对应的轴位置，其后通常需要一个轴位置解析工具，并判定是否在该轴位置处拍照。</li>
</ul>


<h2>示例工程</h2>

<p>参见“\Samples\标准标定+基准两点对位.gvp”</p>
