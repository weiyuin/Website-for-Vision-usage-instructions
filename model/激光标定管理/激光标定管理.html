<head> 
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../css/main.css" /> 
           <script src="../../js/jquery.js"></script> 
           <script src="../../js/main.js"></script> 
           </head> 
           <head> 
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../../css/main.css" /> 
           <script src="../../../js/jquery.js"></script> 
           <script src="../../../js/main.js"></script> 
           </head>  
           <head>  
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../../../css/main.css" /> 
           <script src="../../../../js/jquery.js"></script> 
           <script src="../../../../js/main.js"></script> 
           </head>
<h1>激光标定管理</h1>

<h2>1. 功能概述</h2>

<p>​ 工程/解决方案中使用的激光标定结果，通过功能区-设置面板里面的“激光标定管理”进行管理。</p>

<p>​ 如图所示为激光标定管理窗口，显示当前解决方案中的所有激光标定结果信息。窗口中的按钮实现对激光标定的添加、删除、标定和校验功能。</p>

<p><img src="media/%E6%BF%80%E5%85%89%E6%A0%87%E5%AE%9A%E7%AE%A1%E7%90%861_1.png" alt="" /></p>

<h2>2. 使用向导</h2>

<h3>添加</h3>

<p>​ 点击“添加”按钮，弹出添加待标定相机对话框，在对话框中可以选择相机或者手动输入一个模拟的相机，然后输入拍照位个数，点击“确定”按钮，在管理界面即可呈现添加的相机和该相机下对应的拍照位。</p>

<p><img src="media/%E6%B7%BB%E5%8A%A0%E5%BE%85%E6%A0%87%E5%AE%9A%E7%9B%B8%E6%9C%BA2_1.png" alt="" /></p>

<h3>删除</h3>

<ul>
<li><p>删除拍照位</p>

<p>选中拍照位，点击删除，则该相机下的拍照位被删除了。特别的，</p>

<ol>
<li>若该相机下只有一个拍照位，则无法删除；</li>
<li>若该拍照位所对应的标定结果被引用，在删除时会提示用户是否确定删除。</li>
</ol>
</li>
<li><p>删除相机</p>

<p>选中相机位，点击删除，则该相机连同拍照位一起被删除了。特别的，若该相机下的拍照位对应的标定结果被外部工具引用，则提示用户是否确定删除。</p></li>
</ul>


<h3>标定</h3>

<p>​ 选中拍照位，点击标定，则进入标定向导界面。标定分为四步，分别是获取图像、提取特征、填充激光坐标和标定结果查看。</p>

<p>​ 第一页是采集标定图像，可以选择相机采集的图像或者是文件读取的图像。</p>

<p><img src="media/%E6%A0%87%E5%AE%9A_%E8%8E%B7%E5%8F%96%E5%9B%BE%E5%83%8F2_2.png" alt="" /></p>

<p>​ 获取完标定图像后进入向导第二页。第二页的目的是提取特征，确定图像中圆形Mark图像坐标，包括L边特征和圆形Mark特征。</p>

<p><img src="media/%E6%A0%87%E5%AE%9A_%E6%8F%90%E5%8F%96%E7%89%B9%E5%BE%812_3.png" alt="" /></p>

<p>​ 标定向导第三页是填充激光坐标，可以手动填充和文件读取。该坐标是激光坐标真实值。</p>

<p><img src="media/%E6%A0%87%E5%AE%9A_%E6%BF%80%E5%85%89%E5%9D%90%E6%A0%87%E5%A1%AB%E5%85%852_4.png" alt="" /></p>

<p>​ 标定向导第四步是标定计算及结果查看。如果前三步都没问题，在第四步点击“标定计算”按钮，则在标定结果列表中显示当前标定结果，在图像显示界面则显示标定的误差。</p>

<p><img src="media/%E6%A0%87%E5%AE%9A_%E6%A0%87%E5%AE%9A%E8%AE%A1%E7%AE%972_5.png" alt="" /></p>

<h3>校验</h3>

<p>​ 选中标定完成的拍照位，点击“校验”按钮，进入校验标定结果对话框。点击采集图像，获取该相机采集的图像，输入激光坐标，并将找圆GUI移动到校验点上，点击“添加”按钮，若找圆成功则显示校验点的误差；选中找圆结果GUI，点击“删除”按钮，可以删除选中的找圆结果。</p>

<p><img src="media/%E6%A0%A1%E9%AA%8C%E6%A0%87%E5%AE%9A%E7%BB%93%E6%9E%9C2_6.png" alt="" /></p>

<h3>使用标定结果中像素当量</h3>

<p>​ 标定完成后在标定结果列表中点击像素当量，弹出创建变量的对话框，如下图所示。在编辑框中输入字符（命名方式和变量的命名方式保持一致），点击创建，可以创建一个全局变量与其关联。通过这种方式使像素当量在生产界面表格和编辑框、表达式、脚本中使用。对于已经创建的变量，点击断开，该变量不在关联像素当量，每次重新标定后不在更新变量的值。</p>

<p><img src="media\%E5%88%9B%E5%BB%BA%E5%8F%98%E9%87%8F2_7.png" alt="" /></p>

<h3>保存标定过程及结果数据</h3>

<p>​       标定向导中点击完成的同时会将标定图片和标定过程及结果数据保存下来。存储的路径是系统选项的数据目录中CalibLaser文件夹下。当再次加载该目录下标定过的图片时，可以看待之前的标定过程和结果数据。注意，不要移动图片和xml文件的位置。</p>
