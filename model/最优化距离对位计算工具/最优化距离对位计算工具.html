<head> 
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../css/main.css" /> 
           <script src="../../js/jquery.js"></script> 
           <script src="../../js/main.js"></script> 
           </head> 
           <head> 
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../../css/main.css" /> 
           <script src="../../../js/jquery.js"></script> 
           <script src="../../../js/main.js"></script> 
           </head>  
           <head>  
           <meta charset="utf-8"> 
           <link rel="stylesheet" href="../../../../css/main.css" /> 
           <script src="../../../../js/jquery.js"></script> 
           <script src="../../../../js/main.js"></script> 
           </head>
<h1>最优化距离对位计算</h1>

<h2>功能</h2>

<p>与其他对象目标对位计算工具直接给定目标位置不同，最优化距离对位计算工具依据给定的数个点与数条直线，通过最优化点与对应直线的距离来计算目标位置，使得最终对位后的点到直线距离与给定的标准距离最为近似。如图1(a)所示，绿色线条代表三个平台点分别到对应直线的距离，当设定标准距离（这里以标准距离一致为例）后，对位后的结果如图1（b）。</p>

<p><img src="media/wps28.jpg" alt="img" /><img src="media/wps29.jpg" alt="img" /></p>

<p><imgnote>(a)</imgnote> <imgnote>(b)</imgnote></p>

<p><imgnote>图1 最优化距离对位计算</imgnote></p>

<h2>参数</h2>

<table>
<thead>
<tr>
<th>分类 </th>
<th> 参数名称     </th>
<th> 参数描述                                                                                                 </th>
</tr>
</thead>
<tbody>
<tr>
<td> 属性窗口     </td>
<td> 是否输入圆弧 </td>
<td> 用于设置参数链中是否需要链接圆弧数据，默认值为“否”                                                          </td>
</tr>
<tr>
<td> 图像窗口         </td>
<td> 无    </td>
<td> 无                                                                                                       </td>
</tr>
<tr>
<td> 数据链       </td>
<td> 距离对位对象点坐标向量                                    </td>
<td> 距离对位模式下对象点平台坐标组成的向量。<img src="media/wps31.jpg" alt="img" /> </td>
</tr>
<tr>
<td></td>
<td> 距离对位目标直线向量 </td>
<td> 距离对位模式下平台坐标下目标直线组成的向量。                                                                    </td>
</tr>
<tr>
<td></td>
<td> 距离对位目标圆弧向量 </td>
<td> 距离对位模式下平台坐标下目标圆弧组成的向量（仅在是否输入圆弧设置为“是”时启用）。 </td>
</tr>
<tr>
<td></td>
<td> 标准距离向量 </td>
<td> 距离对位模式下由double型标准距离组成的向量。<img src="media/wps32.jpg" alt="img" />                                             </td>
</tr>
<tr>
<td></td>
<td> 平台轴方向   </td>
<td> 平台各轴正方向。                                                                                         </td>
</tr>
<tr>
<td></td>
<td> 居中对位对象点坐标向量1 </td>
<td> 进行居中对位时，链接对象点的第1组平台坐标向量。 </td>
</tr>
<tr>
<td></td>
<td> 居中对位目标直线向量1 </td>
<td> 进行居中对位时，链接目标直线的第1组平台直线向量。 </td>
</tr>
<tr>
<td></td>
<td> 居中对位目标圆弧向量1 </td>
<td> 进行居中对位时，链接目标圆弧的第1组平台圆弧向量（仅在是否输入圆弧设置为“是”时启用）。 </td>
</tr>
<tr>
<td></td>
<td> 居中对位对象点坐标向量2 </td>
<td> 进行居中对位时，链接对象点的第2组平台坐标向量。 </td>
</tr>
<tr>
<td></td>
<td> 居中对位目标直线向量2 </td>
<td> 进行居中对位时，链接目标直线的第2组平台直线向量。 </td>
</tr>
<tr>
<td></td>
<td> 居中对位目标圆弧向量2 </td>
<td> 进行居中对位时，链接目标圆弧的第2组平台圆弧向量（仅在是否输入圆弧设置为“是”时启用）。 </td>
</tr>
<tr>
<td> 高级界面     </td>
<td> 无   </td>
<td> 无                                                                                                       </td>
</tr>
</tbody>
</table>


<h2>输出</h2>

<table>
<thead>
<tr>
<th>分类 </th>
<th> 参数名称         </th>
<th> 参数描述                                                                                                           </th>
</tr>
</thead>
<tbody>
<tr>
<td> 监视窗口         </td>
<td> 相对对位偏移量                                         </td>
<td> 对位计算出的相对对位偏移量结果。                           </td>
</tr>
<tr>
<td></td>
<td> 转换后的距离对位平台坐标 </td>
<td> 对位后的对象输入点的平台坐标向量。                                                                                </td>
</tr>
<tr>
<td></td>
<td> 输出距离对位距离向量 </td>
<td> 对位后对象平台点到目标直线的距离向量。 </td>
</tr>
<tr>
<td></td>
<td> 转换矩阵         </td>
<td> 对位的转换矩阵。                                                                                                   </td>
</tr>
<tr>
<td></td>
<td> 转换后的居中对位平台坐标1 </td>
<td> 对位后的对象输入点的平台坐标向量。 </td>
</tr>
<tr>
<td></td>
<td> 输出居中对位距离向量1 </td>
<td> 对位后对象平台点到目标直线的距离向量。 </td>
</tr>
<tr>
<td></td>
<td> 转换后的居中对位平台坐标2 </td>
<td> 对位后的对象输入点的平台坐标向量。 </td>
</tr>
<tr>
<td></td>
<td> 输出居中对位距离向量2 </td>
<td> 对位后对象平台点到目标直线的距离向量。 </td>
</tr>
<tr>
<td></td>
<td> 执行结果         </td>
<td> 工具执行结果。                                                                                                     </td>
</tr>
<tr>
<td></td>
<td> 执行时间         </td>
<td> 工具执行时间。                                                                                                     </td>
</tr>
<tr>
<td> 图像窗口         </td>
<td> 无        </td>
<td> 无                                                                                                                 </td>
</tr>
<tr>
<td> 数据链           </td>
<td> 相对对位偏移量                                         </td>
<td> 对位计算的相对对位偏移量结果，供后序工具使用，同监视窗口。 </td>
</tr>
<tr>
<td></td>
<td> 转换后的距离对位平台坐标 </td>
<td> 对位后的目标平台坐标向量，供后序工具使用，同监视窗口。                                                             </td>
</tr>
<tr>
<td></td>
<td> 输出距离对位距离向量 </td>
<td> 对位后对象平台点到目标直线的距离向量，供后序工具使用，同监视窗口。 </td>
</tr>
<tr>
<td></td>
<td> 转换矩阵         </td>
<td> 对位的转换矩阵，供后序工具使用，同监视窗口。                                                                       </td>
</tr>
<tr>
<td></td>
<td> 转换后的居中对位平台坐标1 </td>
<td> 对位后的对象输入点的平台坐标向量，供后序工具使用，同监视窗口。 </td>
</tr>
<tr>
<td></td>
<td> 输出居中对位距离向量1 </td>
<td> 对位后对象平台点到目标直线的距离向量，供后序工具使用，同监视窗口。 </td>
</tr>
<tr>
<td></td>
<td> 转换后的居中对位平台坐标2 </td>
<td> 对位后的对象输入点的平台坐标向量，供后序工具使用，同监视窗口。 </td>
</tr>
<tr>
<td></td>
<td> 输出居中对位距离向量2 </td>
<td> 对位后对象平台点到目标直线的距离向量，供后序工具使用，同监视窗口。 </td>
</tr>
</tbody>
</table>


<h2>详细说明</h2>

<h3>目标直线向量</h3>

<p>目标直线指的是平台坐标下的直线表示，该输入参数通常由直线图像到平台转换工具计算得到。</p>

<h3>标准距离向量</h3>

<p>标准距离是指项目中对位后的点到相应直线距离的规格。</p>

<p>标准距离依靠正负来区分点与直线的位置分布：在图像坐标系下，当目标直线为垂直方位时，若判定目标点的X坐标大于目标点到目标直线垂线交点X坐标，则距离为正，反则为负。即点在直线右侧，则标准距离为正，点在直线左侧，标准距离为负；</p>

<p>当目标直线为水平方位时，若判定目标点的Y坐标大于目标点到目标直线垂线交点Y坐标，则距离为正，反则为负。即点在直线下侧时，则标准距离为正，点在直线上侧时，标准距离为负；</p>

<p> 直线的垂直与水平分界角度为45度/135度.</p>

<h2>注意</h2>

<ul>
<li>对象点坐标向量、目标直线向量与标准距离向量的大小顺序需要保持一致，且向量的大小均要大于等于3。</li>
</ul>


<h2>示例工程</h2>

<p>用法参见“\Samples\最优化距离对位计算.gvp”。</p>
